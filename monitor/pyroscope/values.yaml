pyroscope:
  extraArgs:
    config.expand-env: true
    storage.s3.secret-access-key: ${S3_SECRET_ACCESS_KEY}
    storage.s3.access-key-id: ${S3_ACCESS_KEY_ID}
  extraEnvFrom:
    - secretRef:
      name: s3-credentials
  config: |
    storage:
      backend: s3
      s3:
        endpoint: s3.ap-northeast-1.wasabisys.com
        region: ap-northeast-1
        bucket_name: trap-pyroscope
    limits:
      compactor_blocks_retention_period: 14d

alloy:
  enabled: false
