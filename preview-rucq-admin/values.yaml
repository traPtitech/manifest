mode: dev-and-prod

repo:
  owner: traPtitech
  repo: rucQ-Admin

webhook:
  name: rucq-admin-preview

tls:
  secretName: preview-rucq-admin-tls

host:
  base: rucq-admin-preview.trapti.tech

preview:
  imagePattern: "ghcr.io/traptitech/rucq-admin:preview-{{number}}-{{head_sha}}"

backend:
  matcher: PathPrefix(`/api/`)
  service:
    kind: Service
    namespace: 'rucq{{ if eq . "dev" }}-dev{{ end }}'
    name: rucq-backend-service
    port: 8080
    scheme: http

staging:
  enabled: true
  # renovate:image-full
  image: "ghcr.io/traptitech/rucq-admin:main@sha256:d1d7fe37c47d32bdd43df990efd3a1c9d7efa25465dfdcca709b21cd3ce4e1a2"

otherParameters:
  port: 80
