helmCharts:
  - repo: oci://ghcr.io/traptitech/charts
    name: neoshowcase
    version: "1.9.5"
    includeCRDs: true
    namespace: ns-system
    releaseName: ns
    valuesFile: values.yaml

resources:
  - db/adminer-certificate.yaml
  - db/adminer-deployment.yaml
  - db/adminer-ingress-route.yaml
  - db/adminer-service.yaml
  - db/mariadb-service.yaml
  - db/mariadb-stateful-set.yaml
  - db/mongo-service.yaml
  - db/mongo-stateful-set.yaml
  - backup/mariadb-backup-cron-workflow.yaml
  - backup/mariadb-backup-workflow-template.yaml
  - backup/mongodb-backup-cron-workflow.yaml
  - backup/mongodb-backup-workflow-template.yaml
  - app-namespace.yaml
  - certificate.yaml

configMapGenerator:
  - files:
      - backup/scripts/backup-mariadb.sh
      - backup/scripts/backup-mongodb.sh
    name: backup-scripts
  - files:
      - config/90-limit-buffer.cnf
      - config/80-slow-query.cnf
    name: mariadb-config

generators:
  - ksops.yaml

configurations:
  - kustomize-config.yaml
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
